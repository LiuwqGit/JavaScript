<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>DOM2事件处理-捕获-冒泡</title>
</head>

<body>
  <div id="div">我的div，click me, 查看console</div>
  <ul>
    <li>我是第一个li</li>
    <li>我是第二个li</li>
    <li>我是第三个li</li>
  </ul>
  <script>
    var div = document.getElementById('div')
    var body = document.body
    var html = document.documentElement
    div.addEventListener('click', function () {
      console.log('div标签，捕获')
    }, true)
    body.addEventListener('click', function () {
      console.log('body，捕获 ')
    }, true)
    html.addEventListener('click', function () {
      console.log('html，捕获')
    }, true)
    document.addEventListener('click', function () {
      console.log('document，捕获')
    }, true)
    window.addEventListener('click', function () {
      console.log('window，捕获')
    }, true)
    div.addEventListener('click', function () {
      console.log('div标签，冒泡')
    }, false)
    body.addEventListener('click', function () {
      console.log('body，冒泡 ')
    }, false)
    html.addEventListener('click', function () {
      console.log('html，冒泡')
    }, false)
    document.addEventListener('click', function () {
      console.log('document，冒泡')
    }, false)
    window.addEventListener('click', function () {
      console.log('window，冒泡')
    }, false)
  </script>
  <script>
    // document.querySelector('ul').addEventListener('click', function (e) {
    //   console.log(e.eventPhase)
    //   e.stopPropagation() // 阻止事件捕获
    //   console.log(e.target.innerText + '--- stop +++ ul事件捕获')
    // }, true)
    document.getElementsByTagName('li')[0].addEventListener('click', function (e) {
      console.log(e.eventPhase) // Number类型 1 捕获阶段；2 目标阶段；3 冒泡阶段
      console.log(e.target.innerText)
    })
    document.getElementsByTagName('li')[1].addEventListener('click', function (e) {
      console.log(e.eventPhase)
      console.log(e.target.innerText)
    })
    document.getElementsByTagName('li')[2].addEventListener('click', function (e) {
      console.log(e.eventPhase)
      console.log(e.target.innerText)
    })
    document.querySelector('ul').addEventListener('click', function (e) {
      console.log(e.eventPhase)
      // e.stopPropagation() // 阻止事件冒泡
      console.log(e.target.innerText + '--- ul事件-冒泡')
    }, false)
  </script>
</body>

</html>